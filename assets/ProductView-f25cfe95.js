import{p as _}from"./productStore-9e4882d1.js";import{c as V}from"./cartStore-a879a989.js";import{_ as U,m as f,h as E,r as b,o as r,c as n,a as t,t as i,j as R,F as u,i as g,b as v,w as D,f as k,k as c,v as T,l as M,d as w,p as j,n as P,q as y,s as C,g as I}from"./index-77b9432d.js";const N={data(){return{carImageUrl:"",range:{start:null,end:null},isDateRepeat:!1,formError:!1,product:{data:{product_id:this.$route.params.id,qty:1,rentInfo:{carColor:"",startDate:"",endDate:"",startTime:"",endTime:"",location:""}}}}},methods:{...f(_,["getTargetProduct"]),...f(V,["addProduct","getCart","cartChcek"]),switchImage(e){this.carImageUrl=e.imageUrl},checkSend(){if(this.formError=!1,Object.values(this.product.data.rentInfo).find(d=>d==="")===""){this.formError=!0;return}else this.cartChcek(this.product,this.$router,this.$route.params.id,this.$route,this.$swal)}},computed:{...E(_,["productTemp"]),parseStartDate(){let e="";return this.range.start!==null&&(e=`${this.range.start.getFullYear()}/${this.range.start.getMonth()+1}/${this.range.start.getDate()}`),e},parseEndDate(){let e="";return this.range.end!==null&&(e=`${this.range.end.getFullYear()}/${this.range.end.getMonth()+1}/${this.range.end.getDate()}`,this.parseStartDate===""&&(e="")),e},disabledDates(){return[{start:null,end:new Date}]},persetColor(){return this.productTemp.carColor&&this.productTemp.carColor[0]?this.productTemp.carColor[0].color:""}},watch:{parseStartDate(){this.isDateRepeat=!1,this.product.data.rentInfo.startDate=this.parseStartDate,this.parseStartDate===this.parseEndDate&&(this.isDateRepeat=!0,this.range.start=null,this.range.end=null,this.product.data.rentInfo.startDate="")},parseEndDate(){this.isDateRepeat=!1,this.product.data.rentInfo.endDate=this.parseEndDate,this.parseStartDate===this.parseEndDate&&(this.isDateRepeat=!0,this.range.start=null,this.range.end=null,this.product.data.rentInfo.endDate="")},persetColor(){this.product.data.rentInfo.carColor=this.persetColor},range(){const e=new Date(this.range.start),s=new Date(this.range.end),d=Math.abs(s.getTime()-e.getTime()),m=Math.ceil(d/(1e3*60*60*24));this.product.data.qty=m}},mounted(){this.carImageUrl="",this.getTargetProduct(this.$route.params.id)}},B={class:"py-30"},F={class:"container pt-30"},L={class:"mb-15"},q=t("h2",{class:"fs-20 fw-bold border-bottom border-2 pb-15 border-dark mb-10"},"選擇預約時間",-1),Y={class:"card mb-3 rounded-0 border-0 mb-15 border-bottom border-2 border-dark pb-10"},z={class:"row g-0"},A={class:"col-xl-6"},H={class:"d-flex align-items-center h-100"},O=["src","alt"],G={class:"col-xl-6"},J={class:"card-body d-flex flex-column justify-content-between h-100 mb-5 px-0 px-lg-8 pb-0"},K={class:"card-title fw-bold mb-6"},Q={class:"mb-8"},W={class:"btn-group align-items-center",role:"group","aria-label":"Basic radio toggle button group"},X=t("p",{class:"m-0 me-5 fs-8"},"選擇車色 :",-1),Z=["id","value"],$=["for","onClick"],tt=t("div",{class:"mb-3"},[t("div",{class:"d-flex justify-content-center align-items-center"},[t("label",{for:"startDate ",class:"form-label col-4 col-sm-3 col-md-2 mb-0 flex-shrink-0 flex-grow-1"},"取車日期 : "),t("label",{for:"endDate",class:"form-label col-4 col-sm-3 col-md-2 mb-0 flex-grow-1"},"還車日期 : ")])],-1),et={class:"mb-5"},ot={class:"d-flex justify-content-center align-items-center"},st=["value"],at=["value"],rt={key:0,class:"text-danger"},nt=t("small",null,"旅程最短租賃期為一日(24小時)，跨日租賃不足24小時將以一日計費，請貴賓重新選擇日期並留意租期，謝謝您。",-1),lt=[nt],it={class:"mb-5 row align-items-center"},dt=t("label",{for:"startTime",class:"form-label col-4 col-sm-3 col-md-2 mb-0"},"取車時間 ",-1),ct={class:"col-8 col-sm-9 col-md-10"},pt=I('<option value="" selected disabled>請選擇取車時間</option><option value="8:00">8:00</option><option value="9:00">9:00</option><option value="10:00">10:00</option><option value="11:00">11:00</option><option value="12:00">12:00</option><option value="13:00">13:00</option><option value="14:00">14:00</option><option value="15:00">15:00</option><option value="16:00">16:00</option><option value="17:00">17:00</option><option value="18:00">18:00</option><option value="19:00">19:00</option><option value="20:00">20:00</option>',14),ut=[pt],mt={class:"mb-5 row align-items-center"},ht=t("label",{for:"endTime",class:"form-label col-4 col-sm-3 col-md-2 mb-0"},"還車時間 ",-1),_t={class:"col-8 col-sm-9 col-md-10"},ft=I('<option value="" selected disabled>請選擇還車時間</option><option value="8:00">8:00</option><option value="9:00">9:00</option><option value="10:00">10:00</option><option value="11:00">11:00</option><option value="12:00">12:00</option><option value="13:00">13:00</option><option value="14:00">14:00</option><option value="15:00">15:00</option><option value="16:00">16:00</option><option value="17:00">17:00</option><option value="18:00">18:00</option><option value="19:00">19:00</option><option value="20:00">20:00</option>',14),bt=[ft],gt={class:"mb-5 row align-items-center"},vt=t("label",{for:"location",class:"form-label col-4 col-sm-3 col-md-2 mb-0"},"取車地址 ",-1),Dt={class:"col-8 col-sm-9 col-md-10"},kt={class:"d-flex justify-content-between align-items-center"},Tt={class:"fs-7"},wt={class:"fs-9 fw-bold"},yt={key:0,class:"text-danger"},Ct=t("small",null,"! 預約資訊請選擇完整後方可繼續預約。 !",-1),It=[Ct],St={class:"d-flex justify-content-end"},xt=t("input",{type:"submit",class:"btn btn-dark rounded-1",value:"建立預約"},null,-1),Vt=t("h3",{class:"fw-bold"},"車輛簡介 :",-1),Ut={class:"mb-15"},Et=t("h3",{class:"fw-bold"},"規格 :",-1);function Rt(e,s,d,m,a,l){const S=b("VDatePicker"),x=b("RouterLink");return r(),n("main",null,[t("section",B,[t("div",F,[t("div",L,[q,t("div",Y,[t("div",z,[t("div",A,[t("div",H,[t("img",{src:a.carImageUrl===""?e.productTemp.imageUrl:a.carImageUrl,alt:e.productTemp.title,class:"flex-shrink-1 d-block",style:{width:"100%","max-height":"405px"}},null,8,O)])]),t("div",G,[t("div",J,[t("h5",K,i(e.productTemp.title),1),t("form",{onSubmit:s[5]||(s[5]=R((...o)=>l.checkSend&&l.checkSend(...o),["prevent"]))},[t("div",Q,[t("div",W,[X,(r(!0),n(u,null,g(e.productTemp.carColor,(o,p)=>(r(),n(u,{key:p},[c(t("input",{type:"radio",class:"btn-check",name:"btnradio",id:`btnradio${p}`,value:o.color,"onUpdate:modelValue":s[0]||(s[0]=h=>a.product.data.rentInfo.carColor=h)},null,8,Z),[[j,a.product.data.rentInfo.carColor]]),t("label",{class:P(["btn rounded-0 me-5 rounded-1 border-gray",{"btn-danger":o.color==="red","btn-blue":o.color==="blue","btn-dark":o.color==="dark","btn-gray-600":o.color==="gray"}]),for:`btnradio${p}`,style:{height:"25px"},onClick:h=>l.switchImage(o)},null,10,$)],64))),128))])]),tt,t("div",et,[v(S,{modelValue:a.range,"onUpdate:modelValue":s[1]||(s[1]=o=>a.range=o),"is-range":"","disabled-dates":l.disabledDates},{default:D(({inputEvents:o})=>[t("div",ot,[t("input",y({value:l.parseStartDate},C(o.start,!0),{id:"startDate",class:"form-control me-4",readonly:""}),null,16,st),t("input",y({value:l.parseEndDate},C(o.end,!0),{id:"endDate",class:"form-control",readonly:""}),null,16,at)])]),_:1},8,["modelValue","disabled-dates"]),a.isDateRepeat===!0?(r(),n("span",rt,lt)):k("",!0)]),t("div",it,[dt,t("div",ct,[c(t("select",{name:"",id:"startTime",class:"form-control fs-7","onUpdate:modelValue":s[2]||(s[2]=o=>a.product.data.rentInfo.startTime=o)},ut,512),[[T,a.product.data.rentInfo.startTime]])])]),t("div",mt,[ht,t("div",_t,[c(t("select",{name:"",id:"endTime",class:"form-control fs-7","onUpdate:modelValue":s[3]||(s[3]=o=>a.product.data.rentInfo.endTime=o)},bt,512),[[T,a.product.data.rentInfo.endTime]])])]),t("div",gt,[vt,t("div",Dt,[c(t("input",{type:"text",class:"form-control",id:"location",placeholder:"請輸入您的取車地點地址","onUpdate:modelValue":s[4]||(s[4]=o=>a.product.data.rentInfo.location=o)},null,512),[[M,a.product.data.rentInfo.location]])])]),t("div",kt,[t("p",Tt,[w(" 原價 : "),t("del",null,i(e.productTemp.origin_price),1)]),t("p",wt,i(e.productTemp.price)+" / 天",1)]),a.formError===!0?(r(),n("span",yt,It)):k("",!0),t("div",St,[v(x,{to:"/productList",class:"btn btn-dark rounded-1 me-10"},{default:D(()=>[w("重新選擇車款")]),_:1}),xt])],32)])])])]),t("div",null,[Vt,t("p",Ut,i(e.productTemp.content),1),Et,t("ul",null,[(r(!0),n(u,null,g(e.productTemp.Specification,o=>(r(),n("li",{key:o},i(o),1))),128))])])])])])])}const Nt=U(N,[["render",Rt]]);export{Nt as default};
