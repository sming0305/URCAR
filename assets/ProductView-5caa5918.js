import{p as g}from"./productStore-8bcd33a4.js";import{c as V}from"./cartStore-b7428352.js";import{bt as R,br as v,bs as U,aG as D,at as l,p as n,q as t,aU as i,bp as k,F as m,aE as T,y as w,bk as y,o as h,bm as c,ba as x,bb as M,x as _,w as f,b9 as N,ad as j,ab as C,aW as I}from"./index-c6639c62.js";const P={data(){return{carImageUrl:"",range:{start:null,end:null},isDateRepeat:!1,formError:!1,locationError:!1,product:{data:{product_id:this.$route.params.id,qty:1,rentInfo:{carColor:"",startDate:"",endDate:"",startTime:"",endTime:"",location:""}}}}},methods:{...v(g,["getTargetProduct"]),...v(V,["addProduct","getCart","cartChcek","currentRoute"]),switchImage(o){this.carImageUrl=o.imageUrl},checkSend(){this.formError=!1,this.locationError=!1;const s=Object.values(this.product.data.rentInfo).find(a=>a===""),d=/^[\u4E00-\u9FA5]+(?:市|縣)[\u4E00-\u9FA5]+區/.test(this.product.data.rentInfo.location);if(s===""){this.formError=!0;return}else d?this.cartChcek(this.product,this.$router,this.$route.params.id,this.$route,this.$swal):this.locationError=!0},scrollToNote(){document.getElementById("note").scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"})}},computed:{...U(g,["productTemp"]),parseStartDate(){let o="";return this.range.start!==null&&(o=`${this.range.start.getFullYear()}/${this.range.start.getMonth()+1}/${this.range.start.getDate()}`),o},parseEndDate(){let o="";return this.range.end!==null&&(o=`${this.range.end.getFullYear()}/${this.range.end.getMonth()+1}/${this.range.end.getDate()}`,this.parseStartDate===""&&(o="")),o},disabledDates(){return[{start:null,end:new Date}]},persetColor(){return this.productTemp.carColor&&this.productTemp.carColor[0]?this.productTemp.carColor[0].color:""}},watch:{parseStartDate(){this.isDateRepeat=!1,this.product.data.rentInfo.startDate=this.parseStartDate,this.parseStartDate===this.parseEndDate&&(this.isDateRepeat=!0,this.range.start=null,this.range.end=null,this.product.data.rentInfo.startDate="")},parseEndDate(){this.isDateRepeat=!1,this.product.data.rentInfo.endDate=this.parseEndDate,this.parseStartDate===this.parseEndDate&&(this.isDateRepeat=!0,this.range.start=null,this.range.end=null,this.product.data.rentInfo.endDate="")},persetColor(){this.product.data.rentInfo.carColor=this.persetColor},range(){const o=new Date(this.range.start),s=new Date(this.range.end),u=Math.abs(s.getTime()-o.getTime()),d=Math.ceil(u/(1e3*60*60*24));this.product.data.qty=d}},mounted(){this.carImageUrl="",this.getTargetProduct(this.$route.params.id),this.currentRoute(this.$route.name)}},F={class:"pb-30"},B={class:"container"},L={class:"mb-15"},q=t("h2",{class:"fs-20 fw-bold border-bottom border-2 pb-10 border-dark mb-10"},"選擇預約時間",-1),A={class:"card mb-3 rounded-0 border-0 mb-15 border-bottom border-2 border-dark pb-10"},Y={class:"row g-0"},z={class:"col-xl-6"},G={class:"d-flex align-items-center h-100"},H=["src","alt"],O={class:"col-xl-6"},W={class:"card-body d-flex flex-column justify-content-between h-100 mb-5 px-0 px-lg-8 pb-0"},J={class:"card-title fw-bold mb-6"},K={class:"mb-8"},Q={class:"btn-group align-items-center",role:"group","aria-label":"Basic radio toggle button group"},X=t("p",{class:"m-0 me-5 fs-8"},"選擇車色 :",-1),Z=["id","value"],$=["for","onClick"],tt=t("div",{class:"mb-3"},[t("div",{class:"d-flex justify-content-center align-items-center"},[t("label",{for:"startDate ",class:"form-label col-4 col-sm-3 col-md-2 mb-0 flex-shrink-0 flex-grow-1"},"取車日期 : "),t("label",{for:"endDate",class:"form-label col-4 col-sm-3 col-md-2 mb-0 flex-grow-1"},"還車日期 : ")])],-1),et={class:"mb-5"},ot={class:"d-flex justify-content-center align-items-center"},st=["value"],at=["value"],rt={key:0,class:"text-danger"},lt=t("small",null,"旅程最短租賃期為一日(24小時)，跨日租賃不足24小時將以一日計費，請貴賓重新選擇日期並留意租期，謝謝您。",-1),nt=[lt],it={class:"mb-5 row align-items-center"},dt=t("label",{for:"startTime",class:"form-label col-4 col-sm-3 col-md-2 mb-0"},"取車時間 ",-1),ct={class:"col-8 col-sm-9 col-md-10"},ut=f('<option value="" selected disabled>請選擇取車時間</option><option value="8:00">8:00</option><option value="9:00">9:00</option><option value="10:00">10:00</option><option value="11:00">11:00</option><option value="12:00">12:00</option><option value="13:00">13:00</option><option value="14:00">14:00</option><option value="15:00">15:00</option><option value="16:00">16:00</option><option value="17:00">17:00</option><option value="18:00">18:00</option><option value="19:00">19:00</option><option value="20:00">20:00</option>',14),pt=[ut],mt={class:"mb-5 row align-items-center"},ht=t("label",{for:"endTime",class:"form-label col-4 col-sm-3 col-md-2 mb-0"},"還車時間 ",-1),_t={class:"col-8 col-sm-9 col-md-10"},ft=f('<option value="" selected disabled>請選擇還車時間</option><option value="8:00">8:00</option><option value="9:00">9:00</option><option value="10:00">10:00</option><option value="11:00">11:00</option><option value="12:00">12:00</option><option value="13:00">13:00</option><option value="14:00">14:00</option><option value="15:00">15:00</option><option value="16:00">16:00</option><option value="17:00">17:00</option><option value="18:00">18:00</option><option value="19:00">19:00</option><option value="20:00">20:00</option>',14),bt=[ft],gt={class:"mb-5 row align-items-center"},vt=t("label",{for:"location",class:"form-label col-4 col-sm-3 col-md-2 mb-0"},"取車地址 ",-1),Dt={class:"col-8 col-sm-9 col-md-10"},kt={key:0,class:"text-danger"},Tt=t("small",null,"請輸入正確的台灣(中文)地址格式。",-1),wt=[Tt],yt={class:"d-flex justify-content-end align-items-end mb-4"},xt={class:"fs-7 me-16 m-0"},Ct={class:"fs-9 fw-bold m-0"},It={key:0,class:"text-danger"},Et=t("small",null,"! 預約資訊請選擇完整後方可繼續預約。 !",-1),St=[Et],Vt={class:"d-sm-flex justify-content-between align-items-center"},Rt={class:"fs-7 mb-8 mb-sm-0"},Ut={class:"d-flex justify-content-end"},Mt=t("input",{type:"submit",class:"btn btn-dark rounded-1",value:"建立預約"},null,-1),Nt=t("h3",{class:"fw-bold"},"車輛簡介 :",-1),jt={class:"mb-30 mb-sm-15"},Pt={class:"row"},Ft={class:"col-12 col-lg-4"},Bt=t("h3",{class:"fw-bold"},"規格 :",-1),Lt=f('<div class="col-12 col-lg-1" id="note" style="height:80px;"></div><div class="col-12 col-lg-7"><h3 class="fw-bold">注意事項 :</h3><ul><li class="text-danger fs-7 mb-6"> (1).目前同車款(不分車色)於同訂單內限租一輛，若有同車款同時多輛租賃需求，請結清訂單後再次租賃或選擇不同車款，謝謝您。 </li><li class="text-danger fs-7 mb-6"> (2).旅程最短租賃期為一日(24小時)，跨日租賃不足24小時將以一日計費，請貴賓留意租賃日期。 </li><li class="text-danger fs-7">(3).預約資訊請務必填寫完整才可繼續進行預約。</li></ul></div>',2);function qt(o,s,u,d,a,r){const E=D("VDatePicker"),S=D("RouterLink");return l(),n("main",null,[t("section",F,[t("div",B,[t("div",L,[q,t("div",A,[t("div",Y,[t("div",z,[t("div",G,[t("img",{src:a.carImageUrl===""?o.productTemp.imageUrl:a.carImageUrl,alt:o.productTemp.title,class:"flex-shrink-1 d-block",style:{width:"100%","max-height":"405px"}},null,8,H)])]),t("div",O,[t("div",W,[t("h5",J,i(o.productTemp.title),1),t("form",{onSubmit:s[6]||(s[6]=k((...e)=>r.checkSend&&r.checkSend(...e),["prevent"]))},[t("div",K,[t("div",Q,[X,(l(!0),n(m,null,T(o.productTemp.carColor,(e,p)=>(l(),n(m,{key:p},[c(t("input",{type:"radio",class:"btn-check",name:"btnradio",id:`btnradio${p}`,value:e.color,"onUpdate:modelValue":s[0]||(s[0]=b=>a.product.data.rentInfo.carColor=b)},null,8,Z),[[N,a.product.data.rentInfo.carColor]]),t("label",{class:j(["btn rounded-0 me-5 rounded-1 border-gray",{"btn-danger":e.color==="red","btn-blue":e.color==="blue","btn-dark":e.color==="dark","btn-gray-600":e.color==="gray"}]),for:`btnradio${p}`,style:{height:"25px"},onClick:b=>r.switchImage(e)},null,10,$)],64))),128))])]),tt,t("div",et,[w(E,{modelValue:a.range,"onUpdate:modelValue":s[1]||(s[1]=e=>a.range=e),"is-range":"","disabled-dates":r.disabledDates},{default:y(({inputEvents:e})=>[t("div",ot,[t("input",C({value:r.parseStartDate},I(e.start,!0),{id:"startDate",class:"form-control me-4",readonly:""}),null,16,st),t("input",C({value:r.parseEndDate},I(e.end,!0),{id:"endDate",class:"form-control",readonly:""}),null,16,at)])]),_:1},8,["modelValue","disabled-dates"]),a.isDateRepeat===!0?(l(),n("span",rt,nt)):h("",!0)]),t("div",it,[dt,t("div",ct,[c(t("select",{name:"",id:"startTime",class:"form-control fs-7","onUpdate:modelValue":s[2]||(s[2]=e=>a.product.data.rentInfo.startTime=e)},pt,512),[[x,a.product.data.rentInfo.startTime]])])]),t("div",mt,[ht,t("div",_t,[c(t("select",{name:"",id:"endTime",class:"form-control fs-7","onUpdate:modelValue":s[3]||(s[3]=e=>a.product.data.rentInfo.endTime=e)},bt,512),[[x,a.product.data.rentInfo.endTime]])])]),t("div",gt,[vt,t("div",Dt,[c(t("input",{type:"text",class:"form-control mb-4",id:"location",placeholder:"請輸入您的取車地點地址","onUpdate:modelValue":s[4]||(s[4]=e=>a.product.data.rentInfo.location=e)},null,512),[[M,a.product.data.rentInfo.location]]),a.locationError===!0?(l(),n("span",kt,wt)):h("",!0)])]),t("div",yt,[t("p",xt,[_(" 原價 : "),t("del",null,i(o.productTemp.origin_price),1)]),t("p",Ct,i(o.productTemp.price)+" / 天",1)]),a.formError===!0?(l(),n("span",It,St)):h("",!0),t("div",Vt,[t("p",Rt,[_(" 小幫手提醒您 : 租車前請詳閱"),t("a",{href:"#note",class:"text-danger",onClick:s[5]||(s[5]=k((...e)=>r.scrollToNote&&r.scrollToNote(...e),["prevent"]))},'"注意事項"')]),t("div",Ut,[w(S,{to:"/productList",class:"btn btn-outline-dark rounded-1 me-10"},{default:y(()=>[_("重新選擇車款")]),_:1}),Mt])])],32)])])])]),t("div",null,[Nt,t("p",jt,i(o.productTemp.content),1),t("div",null,[t("div",Pt,[t("div",Ft,[Bt,t("ul",null,[(l(!0),n(m,null,T(o.productTemp.Specification,e=>(l(),n("li",{key:e},i(e),1))),128))])]),Lt])])])])])])])}const Gt=R(P,[["render",qt]]);export{Gt as default};
